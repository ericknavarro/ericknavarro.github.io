<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Intérprete sencillo utilizando Jison con Nodejs (Ubuntu) - Erick Navarro</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Erick Navarro"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Erick Navarro"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Funcionamiento de la aplicaciónEn este tutorial se desarrolla un intérprete que recibe como entrada un archivo de texto que contiene varias sentencias de un lenguaje de programación diseñado especialm"><meta property="og:type" content="blog"><meta property="og:title" content="Intérprete sencillo utilizando Jison con Nodejs (Ubuntu)"><meta property="og:url" content="https://ericknavarro.github.io/2019/08/01/20-Interprete-sencillo-utilizando-Jison-con-Nodejs-Ubuntu/"><meta property="og:site_name" content="Erick Navarro"><meta property="og:description" content="Funcionamiento de la aplicaciónEn este tutorial se desarrolla un intérprete que recibe como entrada un archivo de texto que contiene varias sentencias de un lenguaje de programación diseñado especialm"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://ericknavarro.github.io/gallery/thumbnails/20.png"><meta property="article:published_time" content="2019-08-01T20:19:35.000Z"><meta property="article:modified_time" content="2025-06-19T02:56:32.594Z"><meta property="article:author" content="Erick Navarro"><meta property="article:tag" content="Compilers"><meta property="article:tag" content="JavaScript"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://ericknavarro.github.io/gallery/thumbnails/20.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ericknavarro.github.io/2019/08/01/20-Interprete-sencillo-utilizando-Jison-con-Nodejs-Ubuntu/"},"headline":"Intérprete sencillo utilizando Jison con Nodejs (Ubuntu)","image":["https://ericknavarro.github.io/gallery/thumbnails/20.png"],"datePublished":"2019-08-01T20:19:35.000Z","dateModified":"2025-06-19T02:56:32.594Z","author":{"@type":"Person","name":"Erick Navarro"},"publisher":{"@type":"Organization","name":"Erick Navarro","logo":{"@type":"ImageObject","url":"https://ericknavarro.github.io/img/logo.svg"}},"description":"Funcionamiento de la aplicaciónEn este tutorial se desarrolla un intérprete que recibe como entrada un archivo de texto que contiene varias sentencias de un lenguaje de programación diseñado especialm"}</script><link rel="canonical" href="https://ericknavarro.github.io/2019/08/01/20-Interprete-sencillo-utilizando-Jison-con-Nodejs-Ubuntu/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-145306707-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-145306707-1');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Erick Navarro" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Connect on LinkedIn" href="https://www.linkedin.com/in/ericknd/"><i class="fab fa-linkedin"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-08-01T20:19:35.000Z" title="8/1/2019, 2:19:35 PM">2019-08-01</time></span><span class="level-item"> Erick Navarro </span><span class="level-item"><a class="link-muted" href="/categories/Computer-Science/">Computer Science</a><span> / </span><a class="link-muted" href="/categories/Computer-Science/Compilers/">Compilers</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Intérprete sencillo utilizando Jison con Nodejs (Ubuntu)</h1><div class="content"><h3 id="Funcionamiento-de-la-aplicacion"><a href="#Funcionamiento-de-la-aplicacion" class="headerlink" title="Funcionamiento de la aplicación"></a><strong>Funcionamiento de la aplicación</strong></h3><p>En este tutorial se desarrolla un intérprete que recibe como entrada un archivo de texto que contiene varias sentencias de un lenguaje de programación diseñado especialmente para esta aplicación. Primero se hace análisis léxico y sintáctico de dicha entrada, durante el análisis sintáctico se carga en memoria un Árbol de Sintaxis Abstracta (AST) que se utiliza posteriormente para ejecutar las sentencias. El analizador se genera con Jison utilizando Nodejs en Ubuntu 18.04. El proyecto completo puede descargarse del siguiente enlace:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS">Intérprete sencillo utilizando Jison con Nodejs (Ubuntu)</a></p>
<p>Todo el código del proyecto está documentado con comentarios que contienen los detalles de su funcionamiento.</p>
<p>Si se desea una introducción sobre el uso de Jison con Nodejs pueden visitar el post: <a href="/2019/07/21/17-Mi-primer-proyecto-utilizando-Jison-Linux/" title="Mi primer proyecto utilizando Jison (Linux)">Mi primer proyecto utilizando Jison (Linux)</a> en el cual se describe los pre-requisitos y cómo crear un proyecto utilizando npm.</p>
<h3 id="El-lenguaje-de-entrada"><a href="#El-lenguaje-de-entrada" class="headerlink" title="El lenguaje de entrada"></a><strong>El lenguaje de entrada</strong></h3><p>Dentro de la carpeta del proyecto, hay un archivo de entrada llamado <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/entrada.txt">entrada.txt</a> en el cual se muestran ejemplos de todas las funciones del lenguaje diseñado para esta aplicación, al leerlo se puede tener una idea clara de las funciones con las que el lenguaje cuenta, este archivo contiene lo siguiente:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************</span></span><br><span class="line"><span class="comment"> * Ejemplo desarrollado por Erick Navarro *</span></span><br><span class="line"><span class="comment"> * GitHub Page: ericknavarro.github.io    *</span></span><br><span class="line"><span class="comment"> * Septiembre - 2015                      *</span></span><br><span class="line"><span class="comment"> ******************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Se imprime el encabezado</span></span><br><span class="line"><span class="title function_">imprimir</span>(<span class="string">&quot;Tablas de&quot;</span> &amp; <span class="string">&quot; multiplicar&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Se declara la variable a, de tipo numero</span></span><br><span class="line">numero a;</span><br><span class="line"><span class="comment">//Se asigna a la variable a el valor 0</span></span><br><span class="line">a=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//Se declara la variable c, de tipo numero</span></span><br><span class="line">numero c;</span><br><span class="line"><span class="comment">//Se asigna a la variable c el valor 0</span></span><br><span class="line">c=<span class="number">1</span>;</span><br><span class="line"><span class="comment">//Se imprime un separador</span></span><br><span class="line"><span class="title function_">imprimir</span>(<span class="string">&quot;----------------&quot;</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Se imprimen las tablas del 1 al 5 y </span></span><br><span class="line"><span class="comment"> * para cada tabla, se imprimen los resultados</span></span><br><span class="line"><span class="comment"> * desde el uno hasta el 5, esto se hace con </span></span><br><span class="line"><span class="comment"> * dos ciclos while anidados. </span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="title function_">mientras</span>(<span class="params">a&lt;<span class="number">4</span>+c</span>)&#123;	</span><br><span class="line">	a=a+<span class="number">1</span>;</span><br><span class="line">	numero b;</span><br><span class="line">	b=<span class="number">0</span>;</span><br><span class="line">	<span class="title function_">mientras</span>(<span class="params">b&lt;<span class="number">4</span>+c</span>)&#123;</span><br><span class="line">		b=b+<span class="number">1</span>;</span><br><span class="line">		<span class="title function_">imprimir</span>(a &amp; <span class="string">&quot; * &quot;</span> &amp; b &amp; <span class="string">&quot; = &quot;</span> &amp; a * b);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="title function_">imprimir</span>(<span class="string">&quot;----------------&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Se asigna a la variable a el valor de 11</span></span><br><span class="line">a=<span class="number">11</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * La variable b ya había sido declarada pero </span></span><br><span class="line"><span class="comment"> * dentro del ámbito del primer ciclo while, </span></span><br><span class="line"><span class="comment"> * entonces no existe en este ámbito por lo que </span></span><br><span class="line"><span class="comment"> * debe declararse.</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line">numero b;</span><br><span class="line"><span class="comment">//Se asigna valor de 12 a b y valor de 13 a c</span></span><br><span class="line">b=<span class="number">12</span>;</span><br><span class="line">c=<span class="number">13</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Se evalua si el valor de la variable a es </span></span><br><span class="line"><span class="comment"> * mayor que 10, si el b es mayor que 11 y si</span></span><br><span class="line"><span class="comment"> * el de c es mayor que 12. </span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="title class_">If</span>(a&gt;<span class="number">10</span>)&#123;</span><br><span class="line">	<span class="title function_">imprimir</span>(<span class="string">&quot;a es mayor que 10.&quot;</span>);</span><br><span class="line">	<span class="keyword">if</span>(b&gt;<span class="number">11</span>)&#123;</span><br><span class="line">		<span class="title function_">imprimir</span>(<span class="string">&quot;a es mayor que 10 y b es mayor que 11.&quot;</span>);</span><br><span class="line">		<span class="keyword">if</span>(c&gt;<span class="number">12</span>)&#123;</span><br><span class="line">			<span class="title function_">imprimir</span>(<span class="string">&quot;a es mayor que 10, b es mayor que 11 y c es mayor que 12.&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="title function_">imprimir</span>(<span class="string">&quot;a es menor o igual que 10.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Como se puede observar, el lenguaje acepta:</p>
<ul>
<li>   Comentarios simples, es decir de una sola línea (&#x2F;&#x2F;)</li>
<li>   Comentarios múltiples, es decir de más de una línea (&#x2F;* *&#x2F;)</li>
<li>   Concatenación de cadenas, mediante el operador <em>&amp;</em></li>
<li>   Función Imprimir: Recibe como parámetro una cadena e imprime su valor en consola.</li>
<li>   Declaración de variables: Únicamente se acepta definición de variables de tipo <em>numero</em> incluyendo enteros y decimales.</li>
<li>   Asignación de variables: A cualquier variable se le puede asignar cualquier expresión que tenga como resultado un número.</li>
<li>   Instrucción Mientras: Tiene el comportamiento clásico del ciclo while, ejecuta el ciclo mientras la expresión booleana que recibe sea verdadera. Esta instrucción soporta anidamiento. </li>
<li>   Instrucción If e If-Else: Tiene el comportamiento clásico de las sentencias de selección If e If-Else, evalúa la expresión booleana y ejecuta el bloque de instrucciones en If si es verdadera. En caso contrario y si existe un bloque Else se ejecuta este bloque de instrucciones. Estas instrucciones también soportan anidamiento.</li>
<li>   Expresiones aritméticas: Se soportan las expresiones aritméticas binarias: suma, resta, multiplicación y división. También la expresión unaria: negación. Adicionalmente se soporta expresiones agrupadas en paréntesis. Se maneja la precedencia habitual de las expresiones aritméticas.</li>
<li>   Expresiones booleanas: Comparan dos expresiones que tengan como resultado un número y soportan unicamente los operados <em>mayor que</em> y <em>menor que</em> (&lt;, &gt;).</li>
</ul>
<p><em><strong>El analizador léxico y sintáctico</strong></em></p>
<p>En el archivo <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/gramatica.jison">gramatica.jison</a> detallamos la estructura del lenguaje utilizando Jison. A continuación detallaremos los aspectos más relevantes.</p>
<ul>
<li><em><strong>Sobre el analizador léxico</strong></em></li>
</ul>
<p>El analizador léxico define los patrones para los tokens que deseamos reconocer. Hacemos uso de expresiones regulares para identificar números, cadenas y comentarios.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\<span class="string">&quot;[^\&quot;]*\&quot;              &#123; yytext = yytext.substr(1,yyleng-2); return &#x27;CADENA&#x27;; &#125;</span></span><br><span class="line"><span class="string">[0-9]+(&quot;</span>.<span class="string">&quot;[0-9]+)?\b    return &#x27;DECIMAL&#x27;;</span></span><br><span class="line"><span class="string">[0-9]+\b                return &#x27;ENTERO&#x27;;</span></span><br><span class="line"><span class="string">([a-zA-Z])[a-zA-Z0-9_]* return &#x27;IDENTIFICADOR&#x27;;</span></span><br></pre></td></tr></table></figure>

<p>Nótese que los comentarios son tratados de la misma manera que los espacios en blanco, no retornamos ningún valor.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\s+                                 <span class="comment">// se ignoran espacios en blanco</span></span><br><span class="line"><span class="string">&quot;//&quot;</span>.*                              <span class="comment">// comentario simple línea</span></span><br><span class="line">[<span class="regexp">/][*][^*]*[*]+([^/*][^*]*[*]+)*[/] /</span>/ comentario multiple líneas</span><br></pre></td></tr></table></figure>

<ul>
<li><em><strong>Sobre el analizador sintáctico</strong></em></li>
</ul>
<p>El objetivo principal de nuestro analizador sintáctico es validar que la entrada sea válida y, si lo es, construir el AST (Abstract Syntax Tree). Para lograr esto hacemos uso de funciones utilitarias definidas en un API externa. Esta API contiene toda la lógica necesaria para crear el AST, la idea es centralizar toda esta funcionalidad en un solo lugar, evitando redundancia de funcionalidad y así evitar cometer errores.</p>
<p>Esto también es posible gracias a <a target="_blank" rel="noopener" href="https://nodejs.org/es/">Nodejs</a> ya que nos permite incluir esta funcionalidad en nuestro script para generar nuestro parser. </p>
<p><em><strong>La API de Instrucciones</strong></em></p>
<p>Una de las ventajas de usar <a target="_blank" rel="noopener" href="https://nodejs.org/es/">Nodejs</a> con <a target="_blank" rel="noopener" href="https://zaa.ch/jison/">Jison</a> es que podemos exportar porciones de scripts de un archivo hacia otro. Para nuestra API definimos constantes y funciones que nos ayudan durante la construcción del AST. Nuestra API se encuentra en el archivo <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/instrucciones.js">instrucciones.js</a>.</p>
<p>El uso de constantes es altamente recomendado, a través de estos podemos evitar bugs durante el desarrollo. Para este tutorial definimos constantes para los tipos de valores que soporta nuestro lenguaje: números, cadenas e identificadores. También definimos constantes para los tipos de operaciones soportadas y las instrucciones válidas.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Constantes para los tipos de &#x27;valores&#x27; que reconoce nuestra gramática.</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_VALOR</span> = &#123;</span><br><span class="line">	<span class="attr">NUMERO</span>:        <span class="string">&#x27;VAL_NUMERO&#x27;</span>,</span><br><span class="line">	<span class="attr">IDENTIFICADOR</span>: <span class="string">&#x27;VAL_IDENTIFICADOR&#x27;</span>,</span><br><span class="line">	<span class="attr">CADENA</span>:        <span class="string">&#x27;VAL_CADENA&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Constantes para los tipos de &#x27;operaciones&#x27; que soporta nuestra gramática.</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_OPERACION</span> = &#123;</span><br><span class="line">	<span class="attr">SUMA</span>:           <span class="string">&#x27;OP_SUMA&#x27;</span>,</span><br><span class="line">	<span class="attr">RESTA</span>:          <span class="string">&#x27;OP_RESTA&#x27;</span>,</span><br><span class="line">	<span class="attr">MULTIPLICACION</span>: <span class="string">&#x27;OP_MULTIPLICACION&#x27;</span>,</span><br><span class="line">	<span class="attr">DIVISION</span>:       <span class="string">&#x27;OP_DIVISION&#x27;</span>,</span><br><span class="line">	<span class="attr">NEGATIVO</span>:       <span class="string">&#x27;OP_NEGATIVO&#x27;</span>,</span><br><span class="line">	<span class="attr">MAYOR_QUE</span>:      <span class="string">&#x27;OP_MAYOR_QUE&#x27;</span>,</span><br><span class="line">	<span class="attr">MENOR_QUE</span>:      <span class="string">&#x27;OP_MENOR_QUE&#x27;</span>,</span><br><span class="line">	<span class="attr">CONCATENACION</span>:  <span class="string">&#x27;OP_CONCATENACION&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Constantes para los tipos de &#x27;instrucciones&#x27; válidas en nuestra gramática.</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_INSTRUCCION</span> = &#123;</span><br><span class="line">	<span class="attr">IMPRIMIR</span>:    <span class="string">&#x27;INSTR_IMPRIMIR&#x27;</span>,</span><br><span class="line">	<span class="attr">MIENTRAS</span>:    <span class="string">&#x27;INSTR_MIENTRAS&#x27;</span>,</span><br><span class="line">	<span class="attr">DECLARACION</span>: <span class="string">&#x27;INSTR_DECLARACION&#x27;</span>,</span><br><span class="line">	<span class="attr">ASIGNACION</span>:  <span class="string">&#x27;INSTR_ASIGANCION&#x27;</span>,</span><br><span class="line">	<span class="attr">IF</span>:          <span class="string">&#x27;INSTR_IF&#x27;</span>,</span><br><span class="line">	<span class="attr">IF_ELSE</span>:     <span class="string">&#x27;INSTR_ELSE&#x27;</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>Seguidamente, tenemos la definición de una función llamada <em>nuevaOperacion</em>. Nótese que esta función está fuera de nuestra API, es decir no es <em>pública</em>, es para uso interno. Esta función crea objetos genéricos para las operaciones.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Esta función se encarga de crear objetos tipo Operación.</span></span><br><span class="line"><span class="comment"> * Recibe como parámetros el operando izquierdo y el operando derecho.</span></span><br><span class="line"><span class="comment"> * También recibe como parámetro el tipo del operador</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; operandoIzq </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; operandoDer </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tipo </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">nuevaOperacion</span>(<span class="params">operandoIzq, operandoDer, tipo</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="attr">operandoIzq</span>: operandoIzq,</span><br><span class="line">		<span class="attr">operandoDer</span>: operandoDer,</span><br><span class="line">		<span class="attr">tipo</span>: tipo</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>La definición de funciones con tareas genéricas también es recomendable para evitar errores.</p>
<p>Finalmente, está la definición de nuestra API. En nuestra API tenemos tres tipos de funciones:</p>
<ul>
<li>Funciones para Operaciones.</li>
<li>Funciones para Valores </li>
<li>Funciones para Instrucciones.</li>
</ul>
<p>Cada una de estas funciones representa un Nodo en el AST. Las funciones para operaciones hacen uso de nuestra función privada, de esta forma logramos que nuestros objetos de tipo <em>Operación</em> tengan la misma estructura.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * El objetivo de esta API es proveer las funciones necesarias para la construcción de operaciones e instrucciones.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> instruccionesAPI = &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un nuevo objeto tipo Operación para las operaciones binarias válidas.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; operandoIzq </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; operandoDer </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tipo </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoOperacionBinaria</span>: <span class="keyword">function</span>(<span class="params">operandoIzq, operandoDer, tipo</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="title function_">nuevaOperacion</span>(operandoIzq, operandoDer, tipo);</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un nuevo objeto tipo Operación para las operaciones unarias válidas</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; operando </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tipo </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoOperacionUnaria</span>: <span class="keyword">function</span>(<span class="params">operando, tipo</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="title function_">nuevaOperacion</span>(operando, <span class="literal">undefined</span>, tipo);</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un nuevo objeto tipo Valor, esto puede ser una cadena, un número o un identificador</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; valor </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tipo </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoValor</span>: <span class="keyword">function</span>(<span class="params">valor, tipo</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">tipo</span>: tipo,</span><br><span class="line">			<span class="attr">valor</span>: valor</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un objeto tipo Instrucción para la sentencia Imprimir.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresionCadena </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoImprimir</span>: <span class="keyword">function</span>(<span class="params">expresionCadena</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">tipo</span>: <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">IMPRIMIR</span>,</span><br><span class="line">			<span class="attr">expresionCadena</span>: expresionCadena</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un objeto tipo Instrucción para la sentencia Mientras.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresionLogica </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instrucciones </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoMientras</span>: <span class="keyword">function</span>(<span class="params">expresionLogica, instrucciones</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">tipo</span>: <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">MIENTRAS</span>,</span><br><span class="line">			<span class="attr">expresionLogica</span>: expresionLogica,</span><br><span class="line">			<span class="attr">instrucciones</span>: instrucciones</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un objeto tipo Instrucción para la sentencia Declaración.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; identificador </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoDeclaracion</span>: <span class="keyword">function</span>(<span class="params">identificador</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">tipo</span>: <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">DECLARACION</span>,</span><br><span class="line">			<span class="attr">identificador</span>: identificador</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un objeto tipo Instrucción para la sentencia Asignación.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; identificador </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresionNumerica </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoAsignacion</span>: <span class="keyword">function</span>(<span class="params">identificador, expresionNumerica</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">tipo</span>: <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">ASIGNACION</span>,</span><br><span class="line">			<span class="attr">identificador</span>: identificador,</span><br><span class="line">			<span class="attr">expresionNumerica</span>: expresionNumerica</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un objeto tipo Instrucción para la sentencia If.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresionLogica </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instrucciones </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoIf</span>: <span class="keyword">function</span>(<span class="params">expresionLogica, instrucciones</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">tipo</span>: <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">IF</span>,</span><br><span class="line">			<span class="attr">expresionLogica</span>: expresionLogica,</span><br><span class="line">			<span class="attr">instrucciones</span>: instrucciones</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Crea un objeto tipo Instrucción para la sentencia If-Else.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresionLogica </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instruccionesIfVerdadero </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instruccionesIfFalso </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="attr">nuevoIfElse</span>: <span class="keyword">function</span>(<span class="params">expresionLogica, instruccionesIfVerdadero, instruccionesIfFalso</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="attr">tipo</span>: <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">IF_ELSE</span>,</span><br><span class="line">			<span class="attr">expresionLogica</span>: expresionLogica,</span><br><span class="line">			<span class="attr">instruccionesIfVerdadero</span>: instruccionesIfVerdadero,</span><br><span class="line">			<span class="attr">instruccionesIfFalso</span>: instruccionesIfFalso</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Para poder utilizar las constantes y el API fuera de este archivo utilizamos la instrucción “module.exports” con el cual exportamos todo lo que deseamos que sea público</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Exportamos nuestras constantes y nuestra API</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">TIPO_OPERACION</span> = <span class="variable constant_">TIPO_OPERACION</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">TIPO_INSTRUCCION</span> = <span class="variable constant_">TIPO_INSTRUCCION</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">TIPO_VALOR</span> = <span class="variable constant_">TIPO_VALOR</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">instruccionesAPI</span> = instruccionesAPI;</span><br></pre></td></tr></table></figure>

<p><em><strong>Construcción del AST</strong></em></p>
<p>Para construir el AST durante nuestro análisis sintáctico importamos nuestra API y las constantes. Esto lo hacemos dentro de los símbolos “%{“ y “}%” en el archivo <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/gramatica.jison">gramatica.jison</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%&#123;</span><br><span class="line">	<span class="keyword">const</span> <span class="variable constant_">TIPO_OPERACION</span>	= <span class="built_in">require</span>(<span class="string">&#x27;./instrucciones&#x27;</span>).<span class="property">TIPO_OPERACION</span>;</span><br><span class="line">	<span class="keyword">const</span> <span class="variable constant_">TIPO_VALOR</span> 		= <span class="built_in">require</span>(<span class="string">&#x27;./instrucciones&#x27;</span>).<span class="property">TIPO_VALOR</span>;</span><br><span class="line">	<span class="keyword">const</span> instruccionesAPI	= <span class="built_in">require</span>(<span class="string">&#x27;./instrucciones&#x27;</span>).<span class="property">instruccionesAPI</span>;</span><br><span class="line">%&#125;</span><br></pre></td></tr></table></figure>

<p>Una vez importemos nuestras constantes y funciones ya podemos hacer uso de ellas en la gramática. Por ejemplo, para la construcción de operaciones aritméticas hacemos uso de la función nuevoOperacionBinaria de nuestra API de Instrucciones, pasamos como parámetros los operandos y el tipo operación (utilizando nuestras constantes).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">expresion_numerica</span><br><span class="line">   : <span class="variable constant_">MENOS</span> expresion_numerica %prec <span class="variable constant_">UMENOS</span>          &#123; $$ = instruccionesAPI.<span class="title function_">nuevoOperacionUnaria</span>($2, <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">NEGATIVO</span>); &#125;</span><br><span class="line">   | expresion_numerica <span class="variable constant_">MAS</span> expresion_numerica      &#123; $$ = instruccionesAPI.<span class="title function_">nuevoOperacionBinaria</span>($1, $3, <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">SUMA</span>); &#125;</span><br><span class="line">   | expresion_numerica <span class="variable constant_">MENOS</span> expresion_numerica    &#123; $$ = instruccionesAPI.<span class="title function_">nuevoOperacionBinaria</span>($1, $3, <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">RESTA</span>); &#125;</span><br><span class="line">   | expresion_numerica <span class="variable constant_">POR</span> expresion_numerica      &#123; $$ = instruccionesAPI.<span class="title function_">nuevoOperacionBinaria</span>($1, $3, <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">MULTIPLICACION</span>); &#125;</span><br><span class="line">   | expresion_numerica <span class="variable constant_">DIVIDIDO</span> expresion_numerica &#123; $$ = instruccionesAPI.<span class="title function_">nuevoOperacionBinaria</span>($1, $3, <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">DIVISION</span>); &#125;</span><br><span class="line">   | <span class="variable constant_">PARIZQ</span> expresion_numerica <span class="variable constant_">PARDER</span>               &#123; $$ = $2; &#125;</span><br><span class="line">   | <span class="variable constant_">ENTERO</span>                                         &#123; $$ = instruccionesAPI.<span class="title function_">nuevoValor</span>(<span class="title class_">Number</span>($1), <span class="variable constant_">TIPO_VALOR</span>.<span class="property">NUMERO</span>); &#125;</span><br><span class="line">   | <span class="variable constant_">DECIMAL</span>                                        &#123; $$ = instruccionesAPI.<span class="title function_">nuevoValor</span>(<span class="title class_">Number</span>($1), <span class="variable constant_">TIPO_VALOR</span>.<span class="property">NUMERO</span>); &#125;</span><br><span class="line">   | <span class="variable constant_">IDENTIFICADOR</span>                                  &#123; $$ = instruccionesAPI.<span class="title function_">nuevoValor</span>($1, <span class="variable constant_">TIPO_VALOR</span>.<span class="property">IDENTIFICADOR</span>); &#125;</span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<p>También hacemos uso de la función nuevoValor para las expresiones con valor.</p>
<p>El proceso es el mismo para las Instrucciones, cada producción de tipo Instrucción invoca a su función designada en nuestra API.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">instruccion</span><br><span class="line">   : <span class="variable constant_">RIMPRIMIR</span> <span class="variable constant_">PARIZQ</span> expresion_cadena <span class="variable constant_">PARDER</span> <span class="variable constant_">PTCOMA</span>                        &#123; $$ = instruccionesAPI.<span class="title function_">nuevoImprimir</span>($3); &#125;</span><br><span class="line">   | <span class="variable constant_">RMIENTRAS</span> <span class="variable constant_">PARIZQ</span> expresion_logica <span class="variable constant_">PARDER</span> <span class="variable constant_">LLAVIZQ</span> instrucciones <span class="variable constant_">LLAVDER</span> &#123; $$ = instruccionesAPI.<span class="title function_">nuevoMientras</span>($3, $6); &#125;</span><br><span class="line">   | <span class="variable constant_">RNUMERO</span> <span class="variable constant_">IDENTIFICADOR</span> <span class="variable constant_">PTCOMA</span>                                           &#123; $$ = instruccionesAPI.<span class="title function_">nuevoDeclaracion</span>($2); &#125;</span><br><span class="line">   | <span class="variable constant_">IDENTIFICADOR</span> <span class="variable constant_">IGUAL</span> expresion_numerica <span class="variable constant_">PTCOMA</span>                          &#123; $$ = instruccionesAPI.<span class="title function_">nuevoAsignacion</span>($1, $3); &#125;</span><br><span class="line">   | <span class="variable constant_">RIF</span> <span class="variable constant_">PARIZQ</span> expresion_logica <span class="variable constant_">PARDER</span> <span class="variable constant_">LLAVIZQ</span> instrucciones <span class="variable constant_">LLAVDER</span>       &#123; $$ = instruccionesAPI.<span class="title function_">nuevoIf</span>($3, $6); &#125;</span><br><span class="line">   | <span class="variable constant_">RIF</span> <span class="variable constant_">PARIZQ</span> expresion_logica <span class="variable constant_">PARDER</span> <span class="variable constant_">LLAVIZQ</span> instrucciones <span class="variable constant_">LLAVDER</span> <span class="variable constant_">RELSE</span> <span class="variable constant_">LLAVIZQ</span> instrucciones <span class="variable constant_">LLAVDER</span></span><br><span class="line">                                                                            &#123; $$ = instruccionesAPI.<span class="title function_">nuevoIf</span>($3, $6, $10); &#125;</span><br><span class="line">   | error &#123; <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Este es un error sintáctico: &#x27;</span> + yytext + <span class="string">&#x27;, en la linea: &#x27;</span> + <span class="variable language_">this</span>.<span class="property">_$</span>.<span class="property">first_line</span> + <span class="string">&#x27;, en la columna: &#x27;</span> + <span class="variable language_">this</span>.<span class="property">_$</span>.<span class="property">first_column</span>); &#125;</span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<p>Finalmente, una vez que hayamos reconocido toda la entrada, construimos un arreglo con cada uno de los nodos. Este será nuestro AST.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ini</span><br><span class="line">	: instrucciones <span class="variable constant_">EOF</span> &#123;</span><br><span class="line">		<span class="comment">// cuado se haya reconocido la entrada completa retornamos el AST</span></span><br><span class="line">		<span class="keyword">return</span> $1;</span><br><span class="line">	&#125;</span><br><span class="line">;</span><br><span class="line"></span><br><span class="line">instrucciones</span><br><span class="line">	: instrucciones instruccion &#123; $1.<span class="title function_">push</span>($2); $$ = $1; &#125;</span><br><span class="line">	| instruccion               &#123; $$ = [$1]; &#125;</span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<p>Para generar el parser ejecutamos el script compilar.sh dentro de nuestro proyecto</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sh compilar.<span class="property">sh</span></span><br></pre></td></tr></table></figure>

 

<p>Esto generará el script <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/gramatica.js">gramatica.js</a> con el cual ya podremos procesar nuestro archivo de entrada.</p>
<p><em><strong>La tabla de símbolos</strong></em></p>
<p>La <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/tabla_simbolos.js">tabla de símbolos</a> es la que permite el almacenamiento y recuperación de los valores de las variables. Para su implementación hacemos uso de una clase, ya que necesitaremos más de una instancia de tabla de símbolos. Cada ámbito tiene acceso únicamente a su propia tabla de símbolos y a la de los niveles superiores.</p>
<p>Definimos las constantes para los tipos de datos, en este tutorial se hace uso únicamente del tipo de dato numérico.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Constantes para los tipos de datos.</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_DATO</span> = &#123;</span><br><span class="line">    <span class="attr">NUMERO</span>: <span class="string">&#x27;NUMERO&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Se define una función para crear objetos de tipo Símbolo.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Función que crea objetos de tipo Símbolo.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; id </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tipo </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; valor </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">crearSimbolo</span>(<span class="params">id, tipo, valor</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">id</span>: id,</span><br><span class="line">        <span class="attr">tipo</span>: tipo,</span><br><span class="line">        <span class="attr">valor</span>: valor</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>La clase TS define las estructura de una tabla de símbolos y sus funciones para agregar, modificar y obtener símbolos.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Clase que representa una Tabla de Símbolos.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TS</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * El costructor recibe como parámetro los simbolos de la tabla padre.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; simbolos </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">constructor</span> (<span class="params">simbolos</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_simbolos</span> = simbolos;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Función para gregar un nuevo símbolo.</span></span><br><span class="line"><span class="comment">     * Esta función se usa en la sentencia de Declaración.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; id </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tipo </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">agregar</span>(<span class="params">id, tipo</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> nuevoSimbolo = <span class="title function_">crearSimbolo</span>(id, tipo);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_simbolos</span>.<span class="title function_">push</span>(nuevoSimbolo);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Función para actualizar el valor de un símbolo existente.</span></span><br><span class="line"><span class="comment">     * Esta función se usa en la sentencia de Asignación.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; id </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; valor </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">actualizar</span>(<span class="params">id, valor</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> simbolo = <span class="variable language_">this</span>.<span class="property">_simbolos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">simbolo</span> =&gt;</span> simbolo.<span class="property">id</span> === id)[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span> (simbolo) simbolo.<span class="property">valor</span> = valor;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">throw</span> <span class="string">&#x27;ERROR: variable: &#x27;</span> + id + <span class="string">&#x27; no ha sido definida&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Función para obtener el valor de un símbolo existente.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; id </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">obtener</span>(<span class="params">id</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> simbolo = <span class="variable language_">this</span>.<span class="property">_simbolos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">simbolo</span> =&gt;</span> simbolo.<span class="property">id</span> === id)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (simbolo) <span class="keyword">return</span> simbolo.<span class="property">valor</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">throw</span> <span class="string">&#x27;ERROR: variable: &#x27;</span> + id + <span class="string">&#x27; no ha sido definida&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Función getter para obtener los símbolos.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">simbolos</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_simbolos</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Finalmente, exportamos las constantes y la clase</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Exportamos las constantes y la clase.</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">TIPO_DATO</span> = <span class="variable constant_">TIPO_DATO</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">TS</span> = <span class="variable constant_">TS</span>;</span><br></pre></td></tr></table></figure>

<p><em><strong>Construcción del Intérprete</strong></em></p>
<p>La definición del Intérprete se encuentra en el archivo <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/interprete.js">interprete.js</a>.</p>
<p>Para iniciar con la implementación, primero importamos el parser, las constantes del AST y  de la Tabla de Símbolos.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>); </span><br><span class="line"><span class="keyword">var</span> parser = <span class="built_in">require</span>(<span class="string">&#x27;./gramatica&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Constantes para operaciones, instrucciones y valores</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_INSTRUCCION</span> = <span class="built_in">require</span>(<span class="string">&#x27;./instrucciones&#x27;</span>).<span class="property">TIPO_INSTRUCCION</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_OPERACION</span> = <span class="built_in">require</span>(<span class="string">&#x27;./instrucciones&#x27;</span>).<span class="property">TIPO_OPERACION</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_VALOR</span> = <span class="built_in">require</span>(<span class="string">&#x27;./instrucciones&#x27;</span>).<span class="property">TIPO_VALOR</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tabla de Simbolos</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TIPO_DATO</span> = <span class="built_in">require</span>(<span class="string">&#x27;./tabla_simbolos&#x27;</span>).<span class="property">TIPO_DATO</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TS</span> = <span class="built_in">require</span>(<span class="string">&#x27;./tabla_simbolos&#x27;</span>).<span class="property">TS</span>;</span><br></pre></td></tr></table></figure>

<p>Seguidamente, obtenemos el AST a partir del archivo de entrada.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ast;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// leemos nuestro archivo de entrada</span></span><br><span class="line">    <span class="keyword">const</span> entrada = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./entrada.txt&#x27;</span>);</span><br><span class="line">    <span class="comment">// invocamos a nuestro parser con el contendio del archivo de entradas</span></span><br><span class="line">    ast = parser.<span class="title function_">parse</span>(entrada.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// imrimimos en un archivo el contendio del AST en formato JSON</span></span><br><span class="line">    fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;./ast.json&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(ast, <span class="literal">null</span>, <span class="number">2</span>));</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(e);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Nótese que se escribe el contenido del AST en un archivo llamado <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/ast.json">ast.json</a> en formato JSON, esto no es necesario, pero es una forma de ver el contenido del AST en un formato entendible. </p>
<p>El contenido del formato JSON se puede visualizar en cualquier herramienta. Por ejemplo la extensión de Google Chrome <a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/json-viewer-awesome/iemadiahhbebdklepanmkjenfdebfpfe?hl=en">JSON Viewer Awesome</a>.</p>


<p>El cual cuenta con una vista gráfica y nos permite visualizar el AST así como también navegar por sus nodos</p>


<p>La función principal del <a target="_blank" rel="noopener" href="https://github.com/ericknavarro/InterpreteSencilloJisonJS/blob/master/interprete.js">intérprete</a> es de reconocer cada instrucción instrucción y ejecutarla, para esto es necesario recorrer el AST; es por ello que se ha definido la función <em>procesarBloque</em> el cual itera las instrucciones en un ámbito y las ejecuta.</p>
<p>Para iniciar con la ejecución se crea la tabla de símbolos para el ámbito global y se invoca la función <em>procesarBloque</em> con la raíz del AST y la tabla de símbolos del ámbito global.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Creación de una tabla de simbolos GLOBAL para iniciar con el interprete</span></span><br><span class="line"><span class="keyword">const</span> tsGlobal = <span class="keyword">new</span> <span class="title function_">TS</span>([]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Procesamos las instrucciones reconocidas en nuestro AST</span></span><br><span class="line"><span class="title function_">procesarBloque</span>(ast, tsGlobal);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Este es el método principal. Se encarga de recorrer las instrucciones en un bloque,</span></span><br><span class="line"><span class="comment"> * identificarlas y procesarlas</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instrucciones </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tablaDeSimbolos </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarBloque</span>(<span class="params">instrucciones, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    instrucciones.<span class="title function_">forEach</span>(<span class="function"><span class="params">instruccion</span> =&gt;</span> &#123;</span><br><span class="line">   </span><br><span class="line">        <span class="keyword">if</span> (instruccion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">IMPRIMIR</span>) &#123;</span><br><span class="line">            <span class="comment">// Procesando Instrucción Imprimir</span></span><br><span class="line">            <span class="title function_">procesarImprimir</span>(instruccion, tablaDeSimbolos);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (instruccion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">MIENTRAS</span>) &#123;</span><br><span class="line">            <span class="comment">// Procesando Instrucción Mientras</span></span><br><span class="line">            <span class="title function_">procesarMientras</span>(instruccion, tablaDeSimbolos);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (instruccion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">DECLARACION</span>) &#123;</span><br><span class="line">            <span class="comment">// Procesando Instrucción Declaración</span></span><br><span class="line">            <span class="title function_">procesarDeclaracion</span>(instruccion, tablaDeSimbolos);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (instruccion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">ASIGNACION</span>) &#123;</span><br><span class="line">            <span class="comment">// Procesando Instrucción Asignación</span></span><br><span class="line">            <span class="title function_">procesarAsignacion</span>(instruccion, tablaDeSimbolos);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (instruccion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">IF</span>) &#123;</span><br><span class="line">            <span class="comment">// Procesando Instrucción If</span></span><br><span class="line">            <span class="title function_">procesarIf</span>(instruccion, tablaDeSimbolos);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (instruccion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_INSTRUCCION</span>.<span class="property">IF_ELSE</span>) &#123;</span><br><span class="line">            <span class="comment">// Procesando Instrucción If Else</span></span><br><span class="line">            <span class="title function_">procesarIfElse</span>(instruccion, tablaDeSimbolos);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="string">&#x27;ERROR: tipo de instrucción no válido: &#x27;</span> + instruccion;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Existe una función para procesar cada instrucción. </p>
<p>Las sentencias Mientras, If e If-Else crean nuevas tablas de símbolos antes de procesar las instrucciones dentro de sus bloques de instrucciones. Estas nuevas tablas de símbolos se inicializan con los valores de la tabla de símbolo actual y al terminar la ejecución de la sentencia los valores son eliminados ya que la instancia se crea localmente en el cuerpo de la función.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Función que se encarga de procesar la instrucción Mientras</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarMientras</span>(<span class="params">instruccion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="title function_">procesarExpresionLogica</span>(instruccion.<span class="property">expresionLogica</span>, tablaDeSimbolos)) &#123;</span><br><span class="line">        <span class="keyword">const</span> tsMientras = <span class="keyword">new</span> <span class="title function_">TS</span>(tablaDeSimbolos.<span class="property">simbolos</span>);</span><br><span class="line">        <span class="title function_">procesarBloque</span>(instruccion.<span class="property">instrucciones</span>, tsMientras);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Función que se encarga de procesar la instrucción If</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarIf</span>(<span class="params">instruccion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> valorCondicion = <span class="title function_">procesarExpresionLogica</span>(instruccion.<span class="property">expresionLogica</span>, tablaDeSimbolos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (valorCondicion) &#123;</span><br><span class="line">        <span class="keyword">const</span> tsIf = <span class="keyword">new</span> <span class="title function_">TS</span>(tablaDeSimbolos.<span class="property">simbolos</span>);</span><br><span class="line">        <span class="title function_">procesarBloque</span>(instruccion.<span class="property">instrucciones</span>, tsIf);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Función que se encarga de procesar la instrucción If-Else</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instruccion </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tablaDeSimbolos </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarIfElse</span>(<span class="params">instruccion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> valorCondicion = <span class="title function_">procesarExpresionLogica</span>(instruccion.<span class="property">expresionLogica</span>, tablaDeSimbolos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (valorCondicion) &#123;</span><br><span class="line">        <span class="keyword">const</span> tsIf = <span class="keyword">new</span> <span class="title function_">TS</span>(tablaDeSimbolos.<span class="property">simbolos</span>);</span><br><span class="line">        <span class="title function_">procesarBloque</span>(instruccion.<span class="property">instruccionesIfVerdadero</span>, tsIf);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> tsElse = <span class="keyword">new</span> <span class="title function_">TS</span>(tablaDeSimbolos.<span class="property">simbolos</span>);</span><br><span class="line">        <span class="title function_">procesarBloque</span>(instruccion.<span class="property">instruccionesIfFalso</span>, tsElse);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Las sentencias de Declaración y Asignación agregan y modifican valores de la tabla de símbolos. La sentencia Imprimir muestra el valor de una cadena en la consola.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Función que se encarga de procesar la instrucción Imprimir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instruccion </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tablaDeSimbolos </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarImprimir</span>(<span class="params">instruccion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> cadena = <span class="title function_">procesarExpresionCadena</span>(instruccion.<span class="property">expresionCadena</span>, tablaDeSimbolos);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&gt; &#x27;</span> + cadena);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Función que se encarga de procesar la instrucción Declaración</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instruccion </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tablaDeSimbolos </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarDeclaracion</span>(<span class="params">instruccion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    tablaDeSimbolos.<span class="title function_">agregar</span>(instruccion.<span class="property">identificador</span>, <span class="variable constant_">TIPO_DATO</span>.<span class="property">NUMERO</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Función que se encarga de procesar la instrucción Asignación</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; instruccion </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; tablaDeSimbolos </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarAsignacion</span>(<span class="params">instruccion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> valor = <span class="title function_">procesarExpresionNumerica</span>(instruccion.<span class="property">expresionNumerica</span>, tablaDeSimbolos)</span><br><span class="line">    tablaDeSimbolos.<span class="title function_">actualizar</span>(instruccion.<span class="property">identificador</span>, valor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Finalmente, todas las sentencias descritas anteriormente hacen uso de las operaciones numéricas, con cadenas y lógicas las cuales hacen uso de la tabla de símbolos para obtener valores de las variables.</p>
<p>Para las expresiones numéricas evaluamos el tipo de operación y con base en ellos resolvemos el valor apropiado.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * De acuerdo con nuestra gramática, aqui, expresión puede ser una operación aritmética binaria (SUMA, RESTA, MULTIPLICACION, DIVISION),</span></span><br><span class="line"><span class="comment"> * una operación aritmética unaria (NEGATIVO) o un valor correspondiente a un NUMERO o a un IDENTIFICADOR</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresion </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TS</span>&#125; <span class="variable">tablaDeSimbolos</span></span></span><br><span class="line"><span class="comment"> * Evaluamos cada caso para resolver a un valor tipo número de acuerdo al tipo de operación.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarExpresionNumerica</span>(<span class="params">expresion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">NEGATIVO</span>) &#123;</span><br><span class="line">        <span class="comment">// Es un valor negado.</span></span><br><span class="line">        <span class="comment">// En este caso necesitamos procesar el valor del operando para poder negar su valor.</span></span><br><span class="line">        <span class="comment">// Para esto invocamos (recursivamente) esta función para sesolver el valor del operando.</span></span><br><span class="line">        <span class="keyword">const</span> valor = <span class="title function_">procesarExpresionNumerica</span>(expresion.<span class="property">operandoIzq</span>, tablaDeSimbolos);     <span class="comment">// resolvemos el operando</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Retornamos el valor negado.</span></span><br><span class="line">        <span class="keyword">return</span> valor * -<span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">SUMA</span> </span><br><span class="line">        || expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">RESTA</span></span><br><span class="line">        || expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">MULTIPLICACION</span></span><br><span class="line">        || expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">DIVISION</span>) &#123;</span><br><span class="line">        <span class="comment">// Es una operación aritmética.</span></span><br><span class="line">        <span class="comment">// En este caso necesitamos procesar los operandos antes de realizar la operación.</span></span><br><span class="line">        <span class="comment">// Para esto incovacmos (recursivamente) esta función para resolver los valores de los operandos.</span></span><br><span class="line">        <span class="keyword">const</span> valorIzq = <span class="title function_">procesarExpresionNumerica</span>(expresion.<span class="property">operandoIzq</span>, tablaDeSimbolos);      <span class="comment">// resolvemos el operando izquierdo.</span></span><br><span class="line">        <span class="keyword">const</span> valorDer = <span class="title function_">procesarExpresionNumerica</span>(expresion.<span class="property">operandoDer</span>, tablaDeSimbolos);      <span class="comment">// resolvemos el operando derecho.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">SUMA</span>) <span class="keyword">return</span> valorIzq + valorDer;</span><br><span class="line">        <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">RESTA</span>) <span class="keyword">return</span> valorIzq - valorDer;</span><br><span class="line">        <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">MULTIPLICACION</span>) <span class="keyword">return</span> valorIzq * valorDer;</span><br><span class="line">        <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">DIVISION</span>) <span class="keyword">return</span> valorIzq / valorDer;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_VALOR</span>.<span class="property">NUMERO</span>) &#123;</span><br><span class="line">        <span class="comment">// Es un valor numérico.</span></span><br><span class="line">        <span class="comment">// En este caso únicamente retornamos el valor obtenido por el parser directamente.</span></span><br><span class="line">        <span class="keyword">return</span> expresion.<span class="property">valor</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_VALOR</span>.<span class="property">IDENTIFICADOR</span>) &#123;</span><br><span class="line">        <span class="comment">// Es un identificador.</span></span><br><span class="line">        <span class="comment">// Obtenemos el valor de la tabla de simbolos</span></span><br><span class="line">        <span class="keyword">return</span> tablaDeSimbolos.<span class="title function_">obtener</span>(expresion.<span class="property">valor</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="string">&#x27;ERROR: expresión numérica no válida: &#x27;</span> + expresion;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Para las expresiones con cadenas también validamos el tipo de operación para verificar si es necesario una operación de concatenación. En cualquier caso se resuelve la cadena.  También es posible concatenar valores numéricos, para esto resolvemos la expresión apoyándonos de la función para procesar expresiones numéricas.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * De acuerdo con nuestra gramática, aqui, expresión puede ser una operacion CONCATENACION, CADENA o una expresión numérica</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresion </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TS</span>&#125; <span class="variable">tablaDeSimbolos</span></span></span><br><span class="line"><span class="comment"> * Evaluamos cada caso para resolver a un valor tipo cadena de acuerdo al tipo de operación.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarExpresionCadena</span>(<span class="params">expresion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">CONCATENACION</span>) &#123;</span><br><span class="line">        <span class="comment">// Es una operación de concatenación.</span></span><br><span class="line">        <span class="comment">// En este caso necesitamos procesar los operandos antes de realizar la concatenación.</span></span><br><span class="line">        <span class="comment">// Para esto invocamos (recursivamente) esta función para resolver los valores de los operandos.</span></span><br><span class="line">        <span class="keyword">const</span> cadIzq = <span class="title function_">procesarExpresionCadena</span>(expresion.<span class="property">operandoIzq</span>, tablaDeSimbolos);      <span class="comment">// resolvemos el operando izquierdo.</span></span><br><span class="line">        <span class="keyword">const</span> cadDer = <span class="title function_">procesarExpresionCadena</span>(expresion.<span class="property">operandoDer</span>, tablaDeSimbolos);      <span class="comment">// resolvemos el operando derecho.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Retornamos el resultado de la operación de concatenación.</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> cadIzq + cadDer;     </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_VALOR</span>.<span class="property">CADENA</span>) &#123;</span><br><span class="line">        <span class="comment">// Es una cadena.</span></span><br><span class="line">        <span class="comment">// En este caso únicamente retornamos el valor obtenido por el parser directamente.</span></span><br><span class="line">        <span class="keyword">return</span> expresion.<span class="property">valor</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Es una epresión numérica.</span></span><br><span class="line">        <span class="comment">// En este caso invocamos la función que se encarga de procesar las expresiones numéricas</span></span><br><span class="line">        <span class="comment">// y retornamos su valor en cadena.</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">procesarExpresionNumerica</span>(expresion, tablaDeSimbolos).<span class="title function_">toString</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Al igual que las expresiones con cadena, las expresiones lógicas también se apoya en la función que procesa expresiones numéricas para poder evaluar las condiciones booleanas.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * De acuerdo con nuestra gramática, aqui, expresión puede ser una operación lógica MAYOR QUE o MENOR QUE</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; expresion </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TS</span>&#125; <span class="variable">tablaDeSimbolos</span></span></span><br><span class="line"><span class="comment"> * Evaluamos cada caso para resolver a un valor tipo booleando de acuerdo al tipo de operación.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">procesarExpresionLogica</span>(<span class="params">expresion, tablaDeSimbolos</span>) &#123;</span><br><span class="line">    <span class="comment">// En este caso necesitamos procesar los operandos antes de realizar la comparación.</span></span><br><span class="line">    <span class="keyword">const</span> valorIzq = <span class="title function_">procesarExpresionNumerica</span>(expresion.<span class="property">operandoIzq</span>, tablaDeSimbolos);      <span class="comment">// resolvemos el operando izquierdo.</span></span><br><span class="line">    <span class="keyword">const</span> valorDer = <span class="title function_">procesarExpresionNumerica</span>(expresion.<span class="property">operandoDer</span>, tablaDeSimbolos);      <span class="comment">// resolvemos el operando derecho.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">MAYOR_QUE</span>) <span class="keyword">return</span> valorIzq &gt; valorDer;</span><br><span class="line">    <span class="keyword">if</span> (expresion.<span class="property">tipo</span> === <span class="variable constant_">TIPO_OPERACION</span>.<span class="property">MENOR_QUE</span>) <span class="keyword">return</span> valorIzq &lt; valorDer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Para ejecutar nuestro intérprete y procesar el archivo de entrada ejecutamos el siguiente comando:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node interprete</span><br></pre></td></tr></table></figure>

<p>Y veremos el resultado en consola.</p>


<p><em><strong>Acerca del autor:</strong></em></p>
<p>Este tutorial fue elaborado por el Auxiliar de Cátedra <a target="_blank" rel="noopener" href="https://github.com/rjanixz">Rainman Sián</a>, como contribución al curso de Organización de Lenguajes y Compiladores 2 de la Universidad de San Carlos de Guatemala.</p>
<p><em><strong>Fuentes consultadas:</strong></em></p>
<p>Compiladores, principios, técnicas y herramientas. Aho, Lam, Sethi y Ullman. Segunda Edición.</p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Compilers/">Compilers</a><a class="link-muted mr-2" rel="tag" href="/tags/JavaScript/">JavaScript</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=68538d5759b0d100191b08a4&amp;product=sop" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/08/07/21-Interprete-sencillo-utilizando-GOLD-Parser-y-Visual-Basic/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Intérprete sencillo utilizando Gold Parser y Visual Basic</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/07/24/19-Mi-primer-proyecto-utilizando-Irony-Windows/"><span class="level-item">Mi primer proyecto utilizando Irony</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div id="comments"></div><script>
              function loadGiscus() {
                if (window._giscusLoaded) return;
                window._giscusLoaded = true;

                const script = document.createElement('script');
                script.src = 'https://giscus.app/client.js';
                script.async = true;
                script.crossOrigin = 'anonymous';

                script.setAttribute('data-repo', 'ericknavarro/ericknavarro.github.io-comments');
                script.setAttribute('data-repo-id', 'R_kgDOO_oB0g');
                script.setAttribute('data-category', 'Blog Comments');
                script.setAttribute('data-category-id', 'DIC_kwDOO_oB0s4Cr0f1');
                script.setAttribute('data-mapping', 'pathname');
                script.setAttribute('data-strict', '0');
                script.setAttribute('data-reactions-enabled', '1');
                script.setAttribute('data-emit-metadata', '0');
                script.setAttribute('data-input-position', 'bottom');
                script.setAttribute('data-theme', 'preferred_color_scheme');
                script.setAttribute('data-lang', 'en');

                document.getElementById('comments')?.appendChild(script);
              }

              setTimeout(loadGiscus, 2000);
              window.addEventListener('scroll', loadGiscus);
            </script></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Erick Navarro"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Erick Navarro</p><p class="is-size-6 is-block">Data Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Guatemala</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives/"><p class="title">27</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories/"><p class="title">12</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags/"><p class="title">13</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.linkedin.com/in/ericknd/" target="_blank" rel="me noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Github" href="https://github.com/ericknavarro"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="LinkedIn" href="https://www.linkedin.com/in/ericknd/"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AWS/"><span class="level-start"><span class="level-item">AWS</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/AWS/Alexa-Skills/"><span class="level-start"><span class="level-item">Alexa Skills</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/CloudFront/"><span class="level-start"><span class="level-item">CloudFront</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/EC2/"><span class="level-start"><span class="level-item">EC2</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/Lambda/"><span class="level-start"><span class="level-item">Lambda</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/Route-53/"><span class="level-start"><span class="level-item">Route 53</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/S3/"><span class="level-start"><span class="level-item">S3</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Computer-Science/"><span class="level-start"><span class="level-item">Computer Science</span></span><span class="level-end"><span class="level-item tag">19</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computer-Science/Compilers/"><span class="level-start"><span class="level-item">Compilers</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Computer-Science/Data-Structures/"><span class="level-start"><span class="level-item">Data Structures</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2020/10/01/27-Mi-primer-proyecto-utilizando-Yacc-y-Lex/"><img src="/gallery/thumbnails/27.png" alt="Mi primer proyecto utilizando Yacc y Lex"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-10-01T21:03:28.000Z">2020-10-01</time></p><p class="title"><a href="/2020/10/01/27-Mi-primer-proyecto-utilizando-Yacc-y-Lex/">Mi primer proyecto utilizando Yacc y Lex</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/03/15/26-Interprete-sencillo-utilizando-PLY/"><img src="/gallery/thumbnails/26.png" alt="Intérprete sencillo utilizando PLY con Python 3"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-03-16T01:09:28.000Z">2020-03-15</time></p><p class="title"><a href="/2020/03/15/26-Interprete-sencillo-utilizando-PLY/">Intérprete sencillo utilizando PLY con Python 3</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/03/07/25-Interprete-sencillo-utilizando-Javacc/"><img src="/gallery/thumbnails/25.png" alt="Intérprete sencillo utilizando JavaCC"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-03-07T19:53:33.000Z">2020-03-07</time></p><p class="title"><a href="/2020/03/07/25-Interprete-sencillo-utilizando-Javacc/">Intérprete sencillo utilizando JavaCC</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/02/10/24-Mi-primer-proyecto-utilizando-PLY/"><img src="/gallery/thumbnails/24.png" alt="Mi primer proyecto utilizando PLY con Python 3"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-02-10T22:17:25.000Z">2020-02-10</time></p><p class="title"><a href="/2020/02/10/24-Mi-primer-proyecto-utilizando-PLY/">Mi primer proyecto utilizando PLY con Python 3</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/02/10/23-Mi-primer-proyecto-utilizando-JavaCC/"><img src="/gallery/thumbnails/23.png" alt="Mi primer proyecto utilizando JavaCC"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-02-10T22:14:34.000Z">2020-02-10</time></p><p class="title"><a href="/2020/02/10/23-Mi-primer-proyecto-utilizando-JavaCC/">Mi primer proyecto utilizando JavaCC</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Alexa-Skills/"><span class="tag">Alexa Skills</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C#</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CloudFront/"><span class="tag">CloudFront</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Compilers/"><span class="tag">Compilers</span><span class="tag">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Structures/"><span class="tag">Data Structures</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/EC2/"><span class="tag">EC2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Lambda/"><span class="tag">Lambda</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Route-53/"><span class="tag">Route 53</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/S3/"><span class="tag">S3</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Visual-Basic/"><span class="tag">Visual Basic</span><span class="tag">4</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Erick Navarro" height="28"></a><p class="is-size-7"><span>&copy; 2025 Erick Navarro</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script src="/js/pjax.js"></script><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>