<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Erick Navarro</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Erick Navarro"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Erick Navarro"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Erick Navarro"><meta property="og:url" content="https://ericknavarro.github.io/"><meta property="og:site_name" content="Erick Navarro"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://ericknavarro.github.io/img/og_image.png"><meta property="article:author" content="Erick Navarro"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://ericknavarro.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ericknavarro.github.io"},"headline":"Erick Navarro","image":["https://ericknavarro.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Erick Navarro"},"publisher":{"@type":"Organization","name":"Erick Navarro","logo":{"@type":"ImageObject","url":"https://ericknavarro.github.io/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-145306707-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-145306707-1');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Erick Navarro" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Connect on LinkedIn" href="https://www.linkedin.com/in/ericknd/"><i class="fab fa-linkedin"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-25T21:32:08.000Z" title="4/25/2019, 3:32:08 PM">2019-04-25</time></span><span class="level-item"><a class="link-muted" href="/categories/Computer-Science/">Computer Science</a><span> / </span><a class="link-muted" href="/categories/Computer-Science/Compilers/">Compilers</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/04/25/01-Mi-primer-proyecto-utilizando-Jlex-y-Cup-Linux/">Mi primer proyecto utilizando Jlex y Cup (Linux)</a></p><div class="content"><p>Se desarrollará un intérprete que recibe como entrada varias expresiones aritméticas y presenta como salida el resultado de dichas expresiones.</p>
<p>Las tecnologías a utilizar son:</p>
<ul>
<li><p><strong>Jlex</strong>: Generador de analizadores léxicos</p>
</li>
<li><p><strong>Cup</strong>: Generador de analizadores sintácticos</p>
</li>
<li><p><strong>Ubuntu 14.04</strong>: Sistema operativo basado en GNU&#x2F;Linux</p>
</li>
<li><p><strong>Netbeans 8.0</strong>: IDE (entorno de desarrollo integrado)</p>
</li>
</ul>
<p>El proyecto completo del ejemplo puede descargarse del siguiente enlace:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ericknavarro/ProyectoCupJlex">Mi primer proyecto utilizando Jlex y Cup (Linux)</a></li>
</ul>
<h3 id="JLex"><a href="#JLex" class="headerlink" title="JLex"></a><strong>JLex</strong></h3><p>JLex es un generador de analizadores léxicos, escrito en Java, para Java. JLex fue desarrollado por Elliot Berk en la Universidad de Princeton. Para más información visitar la <a target="_blank" rel="noopener" href="https://www.cs.princeton.edu/~appel/modern/java/JLex/">página oficial de JLex</a>.<br>La principal tarea de un analizador léxico es leer los caracteres de entrada del programa fuente, agruparlos en lexemas y producir como salida una secuencia de tokens.</p>
<ul>
<li><p>Un <em>token</em> es un par que consiste en un nombre de token y un valor de atributo opcional.</p>
</li>
<li><p>Un <em>lexema</em> es una secuencia de caracteres en el programa fuente, que coinciden con el patrón para un token y que el analizador léxico identifica como una instancia de este tóken.</p>
</li>
<li><p>Un <em>patrón</em> es una descripción de la forma que pueden tomar los lexemas de un token.</p>
</li>
</ul>
<p>En JLex se definen los patrones de los diferentes tokens que se desean reconocer, estos patrones pueden definirse a través de expresiones regulares. Además JLex cuenta con múltiples opciones, una muy imporante es su capacidad para integrarse con generadores de analizadores sintácticos como Cup.</p>
<h3 id="Cup"><a href="#Cup" class="headerlink" title="Cup"></a><strong>Cup</strong></h3><p><a target="_blank" rel="noopener" href="http://www2.cs.tum.edu/projects/cup/">Cup</a> es un generador de analizadores sintácticos de tipo LALR para Java.</p>
<p>El analizador sintáctico obtiene una cadena de tokens del analizador léxico y verifica que dicha cadena pueda generase con la gramática para el lenguaje fuente. Una gramática proporciona una especificación precisa y fácil de entender de un lenguaje de programación.</p>
<h3 id="Pre-requisitos"><a href="#Pre-requisitos" class="headerlink" title="Pre-requisitos"></a><strong>Pre-requisitos</strong></h3><p>Para este ejemplo hace falta que tengamos instalado:</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Development Kit (JDK)</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://netbeans.org/downloads/">Netbeans</a></p>
</li>
</ul>
<h3 id="Instalacion-y-configuracion-de-las-herramientas"><a href="#Instalacion-y-configuracion-de-las-herramientas" class="headerlink" title="Instalación y configuración de las herramientas"></a><strong>Instalación y configuración de las herramientas</strong></h3><p>Lo primero que haremos será instalar JLex, para ello abrimos una terminal, en Ubuntu puede hacerse con la combinación de teclas Ctrl+Alt+t o en Aplicaciones → Accesorios → Terminal, una vez abierta la terminal ingresamos el comando “sudo apt-get install jlex”, autenticamos ingresando nuestra contraseña y aceptamos la descarga e instalación, con esto quedará instalado JLex.</p>


<p>Luego instalamos cup, ejecutando en la terminal el comando “sudo apt-get install cup”, autenticamos ingresando nuestra contraseña y aceptamos la descarga e instalación, con esto quedará instalado Cup.</p>


<p>Abrimos Netbeans y creamos un nuevo proyecto de Java (File → New Project).</p>




<p>Creamos un paquete llamado analizadores, este almacenará todo el código fuente relacionado con el analizador léxico y sintáctico (Clic derecho en Source Packages → New → Java Package).</p>




<p>Creamos tres archivos en el paquete analizadores, el primero “Lexico”, que almacenará el código fuente con el cual JLex generará el analizador léxico que queremos, el segundo “Sintactico”, que almacenará el código fuente con el cual Cup generará el analizador sintáctico que queremos y el tercero “compilar.sh”, que guardará los comandos que deben ejecutarse para solicitarle a JLex y a Cup que generen los analizadores. Para crear cada uno de los archivos hacemos clic derecho en el paquete analizadores → New → Other → en la ventana que despliegue, seleccionar Categories: Other y File Types: Empty File, seleccionamos siguiente, indicamos el nombre para el archivo y finalizamos. De tal modo que al final tendremos los tres archivos archivos.</p>


<p>Ahora importaremos la llibrería de Cup a nuestro proyecto de netbeans, para ello descargamos el archivo “java-cup-bin-11b-&lt;versión&gt;.tar.gz” de la <a target="_blank" rel="noopener" href="http://www2.cs.tum.edu/projects/cup/">página oficial de Cup</a>. En este caso el archivo descargado fue el “java-cup-bin-11b-20150326.tar.gz”.</p>


<p>Lo descomprimimos y veremos que contiene dos archivos .jar, el que nos interesa es el archivo “java-cup-11b-runtime.jar”.</p>


<p>Creamos una carpeta lib dentro de la carpeta de nuestro proyecto.</p>


<p>Dentro de la carpeta lib pegamos el archivo “java-cup-11b-runtime.jar”.</p>


<p>Para importar el archivo jar, vamos a Netbeans y damos clic derecho en la pestaña Libraries de nuestro proyecto → Add JAR&#x2F;Folder… luego buscamos el archivo jar en la carpeta lib que acabamos de crear y lo seleccionamos.</p>


<h3 id="Codigo-fuente-para-el-analizador-lexico"><a href="#Codigo-fuente-para-el-analizador-lexico" class="headerlink" title="Código fuente para el analizador léxico"></a><strong>Código fuente para el analizador léxico</strong></h3><p>En el archivo “Lexico” incluiremos todo el código que le indicará a Jlex lo que debe hacer. El código se muestra a continuación:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Ejemplo desarrollado por Erick Navarro</span></span><br><span class="line"><span class="comment"> * GitHub Page: ericknavarro.github.io</span></span><br><span class="line"><span class="comment"> * Septiembre - 2015</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> analizadores;</span><br><span class="line"><span class="keyword">import</span> java_cup.runtime.Symbol; </span><br><span class="line"></span><br><span class="line">%% </span><br><span class="line">%<span class="keyword">class</span> <span class="title class_">Lexico</span></span><br><span class="line">%<span class="keyword">public</span> </span><br><span class="line">%line </span><br><span class="line">%<span class="type">char</span> </span><br><span class="line">%cup </span><br><span class="line">%unicode</span><br><span class="line">%ignorecase</span><br><span class="line"></span><br><span class="line">%init&#123; </span><br><span class="line">	yyline = <span class="number">1</span>; </span><br><span class="line">	yychar = <span class="number">1</span>; </span><br><span class="line">%init&#125; </span><br><span class="line"></span><br><span class="line">BLANCOS=[ \r\t]+</span><br><span class="line">D=[<span class="number">0</span>-<span class="number">9</span>]+</span><br><span class="line">DD=[<span class="number">0</span>-<span class="number">9</span>]+(<span class="string">&quot;.&quot;</span>[  |<span class="number">0</span>-<span class="number">9</span>]+)?</span><br><span class="line"></span><br><span class="line">%%</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;Evaluar&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.REVALUAR,yyline,yychar, yytext());&#125; </span><br><span class="line"></span><br><span class="line"><span class="string">&quot;;&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.PTCOMA,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;(&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.PARIZQ,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;)&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.PARDER,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;[&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.CORIZQ,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;]&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.CORDER,yyline,yychar, yytext());&#125; </span><br><span class="line"></span><br><span class="line"><span class="string">&quot;+&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.MAS,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;-&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.MENOS,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;*&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.POR,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;/&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.DIVIDIDO,yyline,yychar, yytext());&#125; </span><br><span class="line"></span><br><span class="line">\n &#123;yychar=<span class="number">1</span>;&#125;</span><br><span class="line"></span><br><span class="line">&#123;BLANCOS&#125; &#123;&#125; </span><br><span class="line">&#123;D&#125; &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.ENTERO,yyline,yychar, yytext());&#125; </span><br><span class="line">&#123;DD&#125; &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.DECIMAL,yyline,yychar, yytext());&#125; </span><br><span class="line"></span><br><span class="line">. &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;Este es un error lexico: &quot;</span>+yytext()+</span><br><span class="line">	<span class="string">&quot;, en la linea: &quot;</span>+yyline+<span class="string">&quot;, en la columna: &quot;</span>+yychar);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Explicacion-del-codigo-fuente-para-el-analizador-lexico"><a href="#Explicacion-del-codigo-fuente-para-el-analizador-lexico" class="headerlink" title="Explicación del código fuente para el analizador léxico"></a><strong>Explicación del código fuente para el analizador léxico</strong></h3><p>En las primeras líneas indicamos a Jlex que la clase estará en el paquete analizadores y que es necesario que se importe la clase Symbol.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> analizadores;</span><br><span class="line"><span class="keyword">import</span> java_cup.runtime.Symbol;</span><br></pre></td></tr></table></figure>
<p>Posteriormente indicamos a Jlex que:</p>
<ul>
<li><p>La clase del analizador se llamará “Lexico”</p>
</li>
<li><p>La clase será pública</p>
</li>
<li><p>Debe llevar el conteo de las líneas</p>
</li>
<li><p>Debe llevar el conteo de los caracteres reconocidos</p>
</li>
<li><p>Debe integrarse con cup</p>
</li>
<li><p>El set de caracteres que debe utilizar es el unicode</p>
</li>
<li><p>El analizador no será case sensitive, es decir, no le importa si las letras son mayúsculas o minúsculas</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">%% </span><br><span class="line">%<span class="keyword">class</span> <span class="title class_">Lexico</span></span><br><span class="line">%<span class="keyword">public</span> </span><br><span class="line">%line </span><br><span class="line">%<span class="type">char</span> </span><br><span class="line">%cup </span><br><span class="line">%unicode</span><br><span class="line">%ignorecase</span><br></pre></td></tr></table></figure>

<p>Luego viene el bloque init, dentro del init, se ejecutan las acciones de inicialización, es decir, lo que va dentro del constructor del analizador léxico.En este caso indicamos dentro del init que:</p>
<ul>
<li><p>La variable yyline, que lleva la cuenta del número de linea por el que va el analizador valdrá inicialmente 1.</p>
</li>
<li><p>La variable yychar, que lleva la cuenta del número de carácter por el que va el analizador valdrá inicialmente 1.</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%init&#123; </span><br><span class="line">	yyline = <span class="number">1</span>; </span><br><span class="line">	yychar = <span class="number">1</span>; </span><br><span class="line">%init&#125;</span><br></pre></td></tr></table></figure>

<p>Luego se escriben algunas expresiones regulares que son almacenadas en macros, que básicamente son variables que almacenan los patrones, en este caso se definen las macros: BLANCOS, D y DD. Los patrones para cada una son los siguientes:</p>
<ul>
<li><p>BLANCOS: Expresión regular que reconoce uno o muchos espacios en blanco, retornos de carro o tabuladores.</p>
</li>
<li><p>D: Expresión regular que reconoce números enteros.</p>
</li>
<li><p>DD: Expresión regular que reconoce números con punto decimal.</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BLANCOS=[ \r\t]+</span><br><span class="line">D=[<span class="number">0</span>-<span class="number">9</span>]+</span><br><span class="line">DD=[<span class="number">0</span>-<span class="number">9</span>]+(<span class="string">&quot;.&quot;</span>[  |<span class="number">0</span>-<span class="number">9</span>]+)?</span><br><span class="line">%%</span><br></pre></td></tr></table></figure>

<p>Por último se definen todas las reglas léxicas, en las que indicamos los patrones que reconocerá y dentro de llaves lo que debe hacer cuando los reconozca. En la mayoría de los casos se retorna un objeto de tipo Symbol, que vendría siendo un token, este se instancia con el tipo, la fila en la que se encontró, la columna en la que se encontró y el lexema en específico que se reconoció, este se obtiene mediante yytext(). Dentro de las llaves podríamos incluir el código java que quisiéramos. Vemos que al reconocer el patrón BLANCOS no se hace nada porque esperamos que ignore los espacios en blanco. También vemos que al encontrar un salto de linea reinicia la variable yychar, es decir, reinicia el conteo de caracteres para que se lleve la cuenta del número de columna en cada fila.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Evaluar&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.REVALUAR,yyline,yychar,</span><br><span class="line">                             yytext());&#125; </span><br><span class="line"></span><br><span class="line"><span class="string">&quot;;&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.PTCOMA,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;(&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.PARIZQ,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;)&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.PARDER,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;[&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.CORIZQ,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;]&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.CORDER,yyline,yychar, yytext());&#125; </span><br><span class="line"></span><br><span class="line"><span class="string">&quot;+&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.MAS,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;-&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.MENOS,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;*&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.POR,yyline,yychar, yytext());&#125; </span><br><span class="line"><span class="string">&quot;/&quot;</span> &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.DIVIDIDO,yyline,yychar, yytext());&#125; </span><br><span class="line"></span><br><span class="line">\n &#123;yychar=<span class="number">1</span>;&#125;</span><br><span class="line"></span><br><span class="line">&#123;BLANCOS&#125; &#123;&#125; </span><br><span class="line">&#123;D&#125; &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.ENTERO,yyline,yychar, yytext());&#125; </span><br><span class="line">&#123;DD&#125; &#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Symbol</span>(sym.DECIMAL,yyline,yychar, yytext());&#125; </span><br><span class="line"></span><br><span class="line">. &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Este es un error lexico: &quot;</span>+yytext()+</span><br><span class="line">    <span class="string">&quot;, en la linea: &quot;</span>+yyline+<span class="string">&quot;, en la columna: &quot;</span>+yychar);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Codigo-fuente-para-el-analizador-sintactico"><a href="#Codigo-fuente-para-el-analizador-sintactico" class="headerlink" title="Código fuente para el analizador sintáctico"></a><strong>Código fuente para el analizador sintáctico</strong></h3><p>En el archivo “Sintáctico” incluiremos todo el código que le indicará a Cup lo que debe hacer. El código se muestra a continuación:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Ejemplo desarrollado por Erick Navarro</span></span><br><span class="line"><span class="comment"> * GitHub Page: ericknavarro.github.io</span></span><br><span class="line"><span class="comment"> * Septiembre - 2015</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> analizadores; </span><br><span class="line"><span class="keyword">import</span> java_cup.runtime.*;</span><br><span class="line"></span><br><span class="line">parser code </span><br><span class="line">&#123;:</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Método al que se llama automáticamente ante algún error sintactico.</span></span><br><span class="line"><span class="comment">     **/</span> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">syntax_error</span><span class="params">(Symbol s)</span>&#123; </span><br><span class="line">        System.out.println(<span class="string">&quot;Error Sintáctico en la Línea &quot;</span> + (s.left) +</span><br><span class="line">        <span class="string">&quot; Columna &quot;</span>+s.right+ <span class="string">&quot;. No se esperaba este componente: &quot;</span> +s.value+<span class="string">&quot;.&quot;</span>); </span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Método al que se llama automáticamente ante algún error sintáctico </span></span><br><span class="line"><span class="comment">     * en el que ya no es posible una recuperación de errores.</span></span><br><span class="line"><span class="comment">     **/</span> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unrecovered_syntax_error</span><span class="params">(Symbol s)</span> <span class="keyword">throws</span> java.lang.Exception&#123; </span><br><span class="line">        System.out.println(<span class="string">&quot;Error síntactico irrecuperable en la Línea &quot;</span> + </span><br><span class="line">        (s.left)+ <span class="string">&quot; Columna &quot;</span>+s.right+<span class="string">&quot;. Componente &quot;</span> + s.value + </span><br><span class="line">        <span class="string">&quot; no reconocido.&quot;</span>); </span><br><span class="line">    &#125;  </span><br><span class="line">:&#125; </span><br><span class="line"></span><br><span class="line">terminal String PTCOMA,PARIZQ,PARDER,CORIZQ,CORDER;</span><br><span class="line">terminal String MAS,MENOS,POR,DIVIDIDO;</span><br><span class="line">terminal String ENTERO;</span><br><span class="line">terminal String DECIMAL;</span><br><span class="line">terminal String UMENOS;</span><br><span class="line">terminal String REVALUAR;</span><br><span class="line"></span><br><span class="line">non terminal ini;</span><br><span class="line">non terminal instrucciones;</span><br><span class="line">non terminal instruccion;</span><br><span class="line">non terminal Double expresion;</span><br><span class="line"></span><br><span class="line">precedence left MAS,MENOS;</span><br><span class="line">precedence left POR,DIVIDIDO;</span><br><span class="line">precedence right UMENOS; </span><br><span class="line"></span><br><span class="line">start with ini; </span><br><span class="line"></span><br><span class="line">ini::=instrucciones;</span><br><span class="line"></span><br><span class="line">instrucciones ::= </span><br><span class="line">   instruccion instrucciones</span><br><span class="line"> | instruccion</span><br><span class="line"> | error instrucciones</span><br><span class="line">; </span><br><span class="line"></span><br><span class="line">instruccion ::= </span><br><span class="line">   REVALUAR CORIZQ expresion:a CORDER PTCOMA&#123;:System.out.println(<span class="string">&quot;El valor de la expresión es: &quot;</span>+a);:&#125;</span><br><span class="line">;</span><br><span class="line"></span><br><span class="line">expresion  ::= </span><br><span class="line">    MENOS expresion:a                      &#123;:RESULT=a*-<span class="number">1</span>;:&#125;%prec UMENOS     </span><br><span class="line"> |  expresion:a MAS        expresion:b     &#123;:RESULT=a+b;:&#125;</span><br><span class="line"> |  expresion:a MENOS      expresion:b     &#123;:RESULT=a-b;:&#125;</span><br><span class="line"> |  expresion:a POR        expresion:b     &#123;:RESULT=a*b;:&#125;</span><br><span class="line"> |  expresion:a DIVIDIDO   expresion:b     &#123;:RESULT=a/b;:&#125;</span><br><span class="line"> |  ENTERO:a                               &#123;:RESULT=<span class="keyword">new</span> <span class="title class_">Double</span>(a);:&#125;</span><br><span class="line"> |  DECIMAL:a                              &#123;:RESULT=<span class="keyword">new</span> <span class="title class_">Double</span>(a);:&#125;</span><br><span class="line"> |  PARIZQ expresion:a PARDER              &#123;:RESULT=a;:&#125;</span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<h3 id="Explicacion-del-codigo-fuente-para-el-analizador-sintactico"><a href="#Explicacion-del-codigo-fuente-para-el-analizador-sintactico" class="headerlink" title="Explicación del código fuente para el analizador sintáctico"></a><strong>Explicación del código fuente para el analizador sintáctico</strong></h3><p>En las primeras líneas indicamos a Cup que la clase estará en el paquete analizadores y que es necesario que se importe todo el contenido de “java_cup.runtime”.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> analizadores; </span><br><span class="line"><span class="keyword">import</span> java_cup.runtime.*;</span><br></pre></td></tr></table></figure>
<p>Luego viene la sección “parser code”, en la que se programan acciones propias del parser o analizador sintáctico que se va a generar, en este caso se programa lo que se debe hacer ante un error sintáctico y ante un error sintáctico irrecuperable.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">parser code </span><br><span class="line">&#123;:</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Método al que se llama automáticamente ante algún error sintactico.</span></span><br><span class="line"><span class="comment">     **/</span> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">syntax_error</span><span class="params">(Symbol s)</span>&#123; </span><br><span class="line">        System.out.println(<span class="string">&quot;Error Sintáctico en la Línea &quot;</span> + (s.left) +</span><br><span class="line">        <span class="string">&quot; Columna &quot;</span>+s.right+ <span class="string">&quot;. No se esperaba este componente: &quot;</span> +s.value+<span class="string">&quot;.&quot;</span>); </span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Método al que se llama automáticamente ante algún error sintáctico </span></span><br><span class="line"><span class="comment">     * en el que ya no es posible una recuperación de errores.</span></span><br><span class="line"><span class="comment">     **/</span> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unrecovered_syntax_error</span><span class="params">(Symbol s)</span> <span class="keyword">throws</span> java.lang.Exception&#123; </span><br><span class="line">        System.out.println(<span class="string">&quot;Error síntactico irrecuperable en la Línea &quot;</span> + </span><br><span class="line">        (s.left)+ <span class="string">&quot; Columna &quot;</span>+s.right+<span class="string">&quot;. Componente &quot;</span> + s.value + </span><br><span class="line">        <span class="string">&quot; no reconocido.&quot;</span>); </span><br><span class="line">    &#125;  </span><br><span class="line">:&#125;</span><br></pre></td></tr></table></figure>

<p>Luego se definen los terminales, a estos se les puede indicar un tipo, en este caso todos son de tipo *String, *si no se indicara un tipo, los terminales serían por defecto de tipo <em>Object</em>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">terminal String PTCOMA,PARIZQ,PARDER,CORIZQ,CORDER;</span><br><span class="line">terminal String MAS,MENOS,POR,DIVIDIDO;</span><br><span class="line">terminal String ENTERO;</span><br><span class="line">terminal String DECIMAL;</span><br><span class="line">terminal String UMENOS;</span><br><span class="line">terminal String REVALUAR;</span><br></pre></td></tr></table></figure>

<p>Existe un terminal por cada tipo de token que el analizador léxico devuelve. Todos estos tipos estarán definidos en la clase “sym”, que se genera automáticamente y de la que se hablará más adelante.</p>
<p>Luego viene la declaración de los no terminales, a los que también se les puede indicar un tipo específico, si no se les indica un tipo, estos son por defecto de tipo <em>Object</em>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">non terminal ini;</span><br><span class="line">non terminal instrucciones;</span><br><span class="line">non terminal instruccion;</span><br><span class="line">non terminal Double expresion;</span><br></pre></td></tr></table></figure>

<p>Posteriormente, podemos indicar la precedencia de los operadores, ya que la gramática escrita es ambigua, es necesario definir una precedencia para que el analizador no entre en conflicto al analizar, en este caso la precedencia es la misma que la de los operadores aritméticos, la precedencia más baja la tienen la suma y la resta, luego están la multiplicación y la división que tienen una precedencia más alta y por último está el signo menos de las expresiones negativas que tendría la precedencia más alta.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">precedence left MAS,MENOS;</span><br><span class="line">precedence left POR,DIVIDIDO;</span><br><span class="line">precedence right UMENOS;</span><br></pre></td></tr></table></figure>

<p>Por último viene el conjunto de reglas de escritura de la gramática o producciones, al final de cada producción puede incluirse código java entre llaves y dos puntos “{:&lt;código java&gt;:}”. Podemos ver que en las producciones del no terminal “expresion”, se utiliza la variable RESULT, esta variable es propia de Cup y nos permite sintetizar cierto atributo para ese no terminal que se encuentra del lado izquierdo de la producción, recordemos que Cup trabaja con analizadores LALR, que son de tipo ascendente, lo que significa que nos permiten manipular atributos sintetizados. Básicamente eso es RESULT, un atributo sintetizado.</p>
<p>RESULT puede ser cualquier objeto, por ejemplo si quisiéramos que RESULT almacenara varios números enteros hacemos una clase Nodo que contenga muchas variables de tipo entero y declaramos los no terminales para que sean de tipo Nodo, entonces el RESULT que sintetizarán dichos no terminales serán de tipo Nodo.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">start with ini; </span><br><span class="line"></span><br><span class="line">ini::=instrucciones;</span><br><span class="line"></span><br><span class="line">instrucciones ::= </span><br><span class="line">   instruccion instrucciones</span><br><span class="line"> | instruccion</span><br><span class="line"> | error instrucciones</span><br><span class="line">; </span><br><span class="line"></span><br><span class="line">instruccion ::= </span><br><span class="line">   REVALUAR CORIZQ expresion:a CORDER PTCOMA&#123;:System.out.println(<span class="string">&quot;El valor de la expresión es: &quot;</span>+a);:&#125;</span><br><span class="line">;</span><br><span class="line"></span><br><span class="line">expresion  ::= </span><br><span class="line">    MENOS expresion:a                      &#123;:RESULT=a*-<span class="number">1</span>;:&#125;%prec UMENOS     </span><br><span class="line"> |  expresion:a MAS        expresion:b     &#123;:RESULT=a+b;:&#125;</span><br><span class="line"> |  expresion:a MENOS      expresion:b     &#123;:RESULT=a-b;:&#125;</span><br><span class="line"> |  expresion:a POR        expresion:b     &#123;:RESULT=a*b;:&#125;</span><br><span class="line"> |  expresion:a DIVIDIDO   expresion:b     &#123;:RESULT=a/b;:&#125;</span><br><span class="line"> |  ENTERO:a                               &#123;:RESULT=<span class="keyword">new</span> <span class="title class_">Double</span>(a);:&#125;</span><br><span class="line"> |  DECIMAL:a                              &#123;:RESULT=<span class="keyword">new</span> <span class="title class_">Double</span>(a);:&#125;</span><br><span class="line"> |  PARIZQ expresion:a PARDER              &#123;:RESULT=a;:&#125;</span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<h3 id="El-archivo-de-compilacion"><a href="#El-archivo-de-compilacion" class="headerlink" title="El archivo de compilación"></a><strong>El archivo de compilación</strong></h3><p>En el archivo “compilar.sh”, ejecutamos dos líneas, la primera indica a Jlex que debe generar un analizador léxico en base al código fuente que se encuentra en el archivo “Lexico”, la segunda indica a Cup que la clase que debe generar para el analizador sintáctico se llamará “Sintactico” y que debe generarse en base al código fuente que se encuentra en el archivo “Sintactico”.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jlex Lexico</span><br><span class="line">cup -parser Sintactico Sintactico</span><br></pre></td></tr></table></figure>

<p>Para ejecutarlo solo vamos a Netbeans, damos clic derecho sobre el archivo y seleccionamos la opción Run. Al finalizar la ejecución del archivo, veremos en la consola de Netbeans una salida como la siguiente:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Processing first section -- user code.</span><br><span class="line">Processing second section -- JLex declarations.</span><br><span class="line">Processing third section -- lexical rules.</span><br><span class="line">Creating NFA machine representation.</span><br><span class="line">NFA comprised of <span class="number">67</span> states.</span><br><span class="line">Working on character classes.:::::.:::::::::::::.:::.</span><br><span class="line">NFA has <span class="number">24</span> distinct character classes.</span><br><span class="line">Creating DFA transition table.</span><br><span class="line">Working on DFA states...........................</span><br><span class="line">Minimizing DFA transition table.</span><br><span class="line"><span class="number">24</span> states after removal of redundant states.</span><br><span class="line">Outputting lexical analyzer code.</span><br><span class="line">------- CUP v0.11a beta <span class="number">20060608</span> Parser Generation Summary -------</span><br><span class="line">  <span class="number">0</span> errors and <span class="number">0</span> warnings</span><br><span class="line">  <span class="number">15</span> terminals, <span class="number">4</span> non-terminals, and <span class="number">14</span> productions declared, </span><br><span class="line">  producing <span class="number">28</span> unique parse states.</span><br><span class="line">  <span class="number">0</span> terminals declared but not used.</span><br><span class="line">  <span class="number">0</span> non-terminals declared but not used.</span><br><span class="line">  <span class="number">0</span> productions never reduced.</span><br><span class="line">  <span class="number">0</span> conflicts <span class="title function_">detected</span> <span class="params">(<span class="number">0</span> expected)</span>.</span><br><span class="line">  Code written to <span class="string">&quot;Sintactico.java&quot;</span>, and <span class="string">&quot;sym.java&quot;</span>.</span><br><span class="line">---------------------------------------------------- (v0.11a beta <span class="number">20060608</span>)</span><br><span class="line"></span><br><span class="line">RUN <span class="title function_">SUCCESSFUL</span> <span class="params">(total time: 757ms)</span></span><br></pre></td></tr></table></figure>

<p>Que nos confirma que la generación del analizador léxico fue exitosa y que la del analizador sintáctico también. Veremos que se han creado tres nuevos archivos en el paquete analizadores. Estos archivos son las clases: Lexico.java, Sintactico.java y sym.java.</p>


<p>La clase sym.java, sirve como puente entre la clase Lexico.java y Sintactico.java, por ejemplo, cuando el analizador léxico reconoce un número entero, instancia un objeto de la clase Symbol e indica que es de tipo número entero por medio de la constante “sym.ENTERO”, que se genera dentro de la clase sym.java y esta constante se genera porque en el archivo de entrada para Cup se indicó que existe un terminal llamado ENTERO. Entonces tanto el analizador léxico como el sintáctico hacen referencia a los tokens de tipo número entero con la constante “sym.ENTERO”. Básicamente eso es sym.java, una clase con muchas constantes estáticas a las que acceden ambos analizadores para poder integrarse y ejecutar sus tareas exitosamente.</p>
<h3 id="Archivo-de-entrada"><a href="#Archivo-de-entrada" class="headerlink" title="Archivo de entrada"></a><strong>Archivo de entrada</strong></h3><p>Dentro de la carpeta del proyecto crearé un archivo de entrada llamado “entrada.txt”. Que contendrá el archivo de entrada que reconocerán nuestros analizadores.</p>


<p>El archivo de “entrada.txt” contiene lo siguiente:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Evaluar[<span class="number">1</span>+<span class="number">1</span>];</span><br><span class="line">Evaluar[<span class="number">1</span>+<span class="number">1</span>*<span class="number">2</span>];</span><br><span class="line">Evaluar[-(<span class="number">1</span>+<span class="number">1</span>*<span class="number">6</span>/<span class="number">3</span>-<span class="number">5</span>+<span class="number">7</span>)];</span><br><span class="line">Evaluar[-(<span class="number">1</span>+<span class="number">1</span>*<span class="number">6</span>/<span class="number">3</span>-<span class="number">5</span>+<span class="number">1</span>*-<span class="number">2</span>)];</span><br><span class="line">Evaluar[-(<span class="number">1</span>+<span class="number">1</span>)];</span><br></pre></td></tr></table></figure>

<h3 id="Clase-principal"><a href="#Clase-principal" class="headerlink" title="Clase principal"></a><strong>Clase principal</strong></h3><p>Dentro de la clase principal solo tenemos el método <em>main</em> y el método interpretar que lee el contenido del archivo que se encuentra en el path que se le indica y ejecuta análisis léxico y análisis sintáctico, en el transcurso del analisis sintáctico se mandan a imprimir en consola los resultados de las expresiones aritméticas analizadas, por lo que al final del análisis tendremos todos los resultados de las operaciones en consola. A continuación se muestra el código de la clase principal.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Ejemplo desarrollado por Erick Navarro</span></span><br><span class="line"><span class="comment"> * GitHub Page: ericknavarro.github.io</span></span><br><span class="line"><span class="comment"> * Septiembre - 2015</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> proyectocupjlex;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Clase principal de la aplicación</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Erick</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProyectoCupJlex</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args argumentos de la linea de comando</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        interpretar(<span class="string">&quot;entrada.txt&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Método que interpreta el contenido del archivo que se encuentra en el path</span></span><br><span class="line"><span class="comment">     * que recibe como parámentro</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> path ruta del archivo a interpretar</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">interpretar</span><span class="params">(String path)</span> &#123;</span><br><span class="line">        analizadores.Sintactico pars;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            pars=<span class="keyword">new</span> <span class="title class_">analizadores</span>.Sintactico(<span class="keyword">new</span> <span class="title class_">analizadores</span>.Lexico(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(path)));</span><br><span class="line">            pars.parse();        </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Error fatal en compilación de entrada.&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Causa: &quot;</span>+ex.getCause());</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Ejecutando-nuestra-aplicacion"><a href="#Ejecutando-nuestra-aplicacion" class="headerlink" title="Ejecutando nuestra aplicación"></a><strong>Ejecutando nuestra aplicación</strong></h3><p>Al ejecutar la aplicación obtenemos los resultados de las operaciones evaluadas en consola.</p>


<p>Si les gusto este tutorial, puede que también estén interesados en este otro: <a href="/2019/04/26/05-Interprete-sencillo-utilizando-Java-Jlex-y-Cup/" title="Intérprete sencillo utilizando Java, Jlex y Cup">Intérprete sencillo utilizando Java, Jlex y Cup</a>.</p>
<h3 id="Fuentes-consultadas"><a href="#Fuentes-consultadas" class="headerlink" title="Fuentes consultadas:"></a><strong>Fuentes consultadas:</strong></h3><p>Compiladores, principios, técnicas y herramientas. Aho, Lam, Sethi y Ullman. Segunda Edición.</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/26/">Previous</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/page/28/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/26/">26</a></li><li><a class="pagination-link is-current" href="/page/27/">27</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Erick Navarro"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Erick Navarro</p><p class="is-size-6 is-block">Data Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Guatemala</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives/"><p class="title">27</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories/"><p class="title">12</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags/"><p class="title">13</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.linkedin.com/in/ericknd/" target="_blank" rel="me noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Github" href="https://github.com/ericknavarro"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="LinkedIn" href="https://www.linkedin.com/in/ericknd/"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AWS/"><span class="level-start"><span class="level-item">AWS</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/AWS/Alexa-Skills/"><span class="level-start"><span class="level-item">Alexa Skills</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/CloudFront/"><span class="level-start"><span class="level-item">CloudFront</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/EC2/"><span class="level-start"><span class="level-item">EC2</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/Lambda/"><span class="level-start"><span class="level-item">Lambda</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/Route-53/"><span class="level-start"><span class="level-item">Route 53</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AWS/S3/"><span class="level-start"><span class="level-item">S3</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Computer-Science/"><span class="level-start"><span class="level-item">Computer Science</span></span><span class="level-end"><span class="level-item tag">19</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computer-Science/Compilers/"><span class="level-start"><span class="level-item">Compilers</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Computer-Science/Data-Structures/"><span class="level-start"><span class="level-item">Data Structures</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2020/10/01/27-Mi-primer-proyecto-utilizando-Yacc-y-Lex/"><img src="/gallery/thumbnails/27.png" alt="Mi primer proyecto utilizando Yacc y Lex"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-10-01T21:03:28.000Z">2020-10-01</time></p><p class="title"><a href="/2020/10/01/27-Mi-primer-proyecto-utilizando-Yacc-y-Lex/">Mi primer proyecto utilizando Yacc y Lex</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/03/15/26-Interprete-sencillo-utilizando-PLY/"><img src="/gallery/thumbnails/26.png" alt="Intérprete sencillo utilizando PLY con Python 3"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-03-16T01:09:28.000Z">2020-03-15</time></p><p class="title"><a href="/2020/03/15/26-Interprete-sencillo-utilizando-PLY/">Intérprete sencillo utilizando PLY con Python 3</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/03/07/25-Interprete-sencillo-utilizando-Javacc/"><img src="/gallery/thumbnails/25.png" alt="Intérprete sencillo utilizando JavaCC"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-03-07T19:53:33.000Z">2020-03-07</time></p><p class="title"><a href="/2020/03/07/25-Interprete-sencillo-utilizando-Javacc/">Intérprete sencillo utilizando JavaCC</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/02/10/24-Mi-primer-proyecto-utilizando-PLY/"><img src="/gallery/thumbnails/24.png" alt="Mi primer proyecto utilizando PLY con Python 3"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-02-10T22:17:25.000Z">2020-02-10</time></p><p class="title"><a href="/2020/02/10/24-Mi-primer-proyecto-utilizando-PLY/">Mi primer proyecto utilizando PLY con Python 3</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/02/10/23-Mi-primer-proyecto-utilizando-JavaCC/"><img src="/gallery/thumbnails/23.png" alt="Mi primer proyecto utilizando JavaCC"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-02-10T22:14:34.000Z">2020-02-10</time></p><p class="title"><a href="/2020/02/10/23-Mi-primer-proyecto-utilizando-JavaCC/">Mi primer proyecto utilizando JavaCC</a></p><p class="categories"><a href="/categories/Computer-Science/">Computer Science</a> / <a href="/categories/Computer-Science/Compilers/">Compilers</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Alexa-Skills/"><span class="tag">Alexa Skills</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C#</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CloudFront/"><span class="tag">CloudFront</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Compilers/"><span class="tag">Compilers</span><span class="tag">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Structures/"><span class="tag">Data Structures</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/EC2/"><span class="tag">EC2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Lambda/"><span class="tag">Lambda</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Route-53/"><span class="tag">Route 53</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/S3/"><span class="tag">S3</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Visual-Basic/"><span class="tag">Visual Basic</span><span class="tag">4</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Erick Navarro" height="28"></a><p class="is-size-7"><span>&copy; 2025 Erick Navarro</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script src="/js/pjax.js"></script><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>